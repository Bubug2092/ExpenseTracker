#:import dp kivy.metrics.dp

<Label>:
    font_name: "Maoken"

<Button>:
    font_name: "Maoken"

<TextInput>:
    font_name: "Maoken"

<Spinner>:
    font_name: "Maoken"

ScreenManager:
    MainScreen:
        name: "main"
    SubscriptionScreen:
        name: "subscription"
    SubscriptionListScreen:
        name: "subscription_list"
    ExpenseListScreen:
        name: "expense_list"
    ExpenseFormScreen:
        name: "expense_form"

<MainScreen>:
    BoxLayout:
        orientation: "vertical"
        padding: dp(20)
        spacing: dp(10)

        Label:
            text: "ğŸ§¾ è¨˜å¸³ä¸»ç•«é¢"
            font_size: "24sp"
            size_hint_y: None
            height: dp(40)

        Button:
            text: "ğŸ“‹ è¨‚é–±ç®¡ç†"
            size_hint_y: None
            height: dp(50)
            on_release: root.manager.current = "subscription_list"

        Button:
            text: "ğŸ’° æ”¯å‡ºç®¡ç†"
            size_hint_y: None
            height: dp(50)
            on_release: root.manager.current = "expense_list"

        Widget:

<SubscriptionScreen>:
    BoxLayout:
        orientation: "vertical"
        padding: dp(20)
        spacing: dp(10)

        Label:
            text: "â• æ–°å¢/ç·¨è¼¯è¨‚é–±"
            font_size: "20sp"

        TextInput:
            id: sub_name
            hint_text: "è¨‚é–±åç¨±"
            multiline: False

        TextInput:
            id: sub_amount
            hint_text: "é‡‘é¡"
            multiline: False
            input_filter: "float"

        Spinner:
            id: sub_category
            text: "é¸æ“‡é¡åˆ¥"
            values: ["å¨›æ¨‚", "äº¤é€š", "é£²é£Ÿ", "å…¶ä»–"]

        Spinner:
            id: sub_cycle
            text: "é¸æ“‡é€±æœŸ"
            values: ["æ¯é€±", "æ¯æœˆ", "æ¯å¹´"]

        Button:
            text: "é¸æ“‡é–‹å§‹æ—¥æœŸ"
            on_release: print("ğŸ”§ é–‹å•Ÿæ—¥æœŸé¸æ“‡å™¨ï¼ˆä¹‹å¾ŒåŠ ï¼‰")

        BoxLayout:
            size_hint_y: None
            height: dp(40)
            spacing: dp(10)

            Button:
                text: "ğŸ’¾ å„²å­˜"
                on_release: root.save_subscription()

            Button:
                text: "ğŸ§¹ æ¸…é™¤"
                on_release: root.clear_fields()

        Button:
            text: "ğŸ”™ è¿”å›"
            on_release: app.root.current = "subscription_list"

<SubscriptionListScreen>:
    BoxLayout:
        orientation: "vertical"
        padding: dp(20)
        spacing: dp(10)

        Label:
            text: "ğŸ“‹ è¨‚é–±æ¸…å–®"
            font_size: "20sp"

        ScrollView:
            GridLayout:
                id: sub_list_layout
                cols: 1
                size_hint_y: None
                height: self.minimum_height

        Button:
            text: "â• æ–°å¢è¨‚é–±"
            on_release: app.root.current = "subscription"

        Button:
            text: "ğŸ”™ è¿”å›"
            on_release: app.root.current = "main"

<ExpenseListScreen>:
    BoxLayout:
        orientation: "vertical"
        padding: dp(20)
        spacing: dp(10)

        Label:
            text: "ğŸ“’ æ”¯å‡ºæ¸…å–®"
            font_size: "20sp"

        Spinner:
            id: filter_category
            text: "å…¨éƒ¨é¡åˆ¥"
            values: ["å…¨éƒ¨é¡åˆ¥", "å¨›æ¨‚", "äº¤é€š", "é£²é£Ÿ", "å…¶ä»–"]
            on_text: root.refresh_list()

        ScrollView:
            GridLayout:
                id: expense_list_layout
                cols: 1
                size_hint_y: None
                height: self.minimum_height

        Button:
            text: "â• æ–°å¢æ”¯å‡º"
            on_release: app.root.current = "expense_form"

        Button:
            text: "ğŸ”™ è¿”å›"
            on_release: app.root.current = "main"

<ExpenseFormScreen>:
    BoxLayout:
        orientation: "vertical"
        padding: dp(20)
        spacing: dp(10)

        Label:
            text: "â• æ–°å¢æ”¯å‡º"
            font_size: "20sp"

        TextInput:
            id: expense_name
            hint_text: "æ”¯å‡ºåç¨±"
            multiline: False

        TextInput:
            id: expense_amount
            hint_text: "é‡‘é¡"
            multiline: False
            input_filter: "float"

        Spinner:
            id: expense_category
            text: "é¸æ“‡é¡åˆ¥"
            values: ["å¨›æ¨‚", "äº¤é€š", "é£²é£Ÿ", "å…¶ä»–"]

        Spinner:
            id: expense_method
            text: "é¸æ“‡ä»˜æ¬¾æ–¹å¼"
            values: ["ç¾é‡‘", "ä¿¡ç”¨å¡", "è½‰å¸³", "å…¶ä»–"]

        Button:
            text: "ğŸ“… é¸æ“‡æ—¥æœŸï¼ˆé è¨­ä»Šæ—¥ï¼‰"
            on_release: print("ğŸ”§ æ—¥æœŸé¸æ“‡å™¨å¾Œè£œ")

        BoxLayout:
            size_hint_y: None
            height: dp(40)
            spacing: dp(10)

            Button:
                text: "ğŸ’¾ å„²å­˜"
                on_release: root.save_expense()

            Button:
                text: "ğŸ”™ è¿”å›"
                on_release: app.root.current = "expense_list"
